# ==============================================================================
# 環境変数設定ファイル (.env.local.example)
# ==============================================================================
# このファイルを .env.local としてコピーし、実際の値を設定してください
# セキュリティ上の理由により、実際の値は .env.local に記述し、
# このファイルには例や説明のみを記載してください
#
# 使用方法:
#   cp .env.local.example .env.local
#   実際の値で .env.local を編集してください

# ==============================================================================
# アプリケーション基本設定
# ==============================================================================

# 環境設定 (development, production, test)
NODE_ENV=development

# アプリケーションURL (本番環境では実際のドメインを設定)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ==============================================================================
# 認証設定 (Clerk)
# ==============================================================================

# Clerk公開キー (Next.jsクライアントサイドで使用)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxx

# Clerkシークレットキー (サーバーサイドでのみ使用)
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxx

# Clerk認証後のリダイレクトURL設定
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# Clerk JWT設定 (Clerkダッシュボードで取得)
CLERK_JWT_KEY=-----BEGIN PUBLIC KEY-----\nxxxxxxxxxxxxxxxxxxxxxxxxx\n-----END PUBLIC KEY-----

# ==============================================================================
# データベース設定 (Prisma + Cloudflare D1)
# ==============================================================================

# Prisma データベースURL (開発環境)
DATABASE_URL=file:./dev.db

# Cloudflare D1 データベース設定
# 注意: 本番環境では wrangler.toml で設定されるため不要
CLOUDFLARE_D1_DATABASE_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
CLOUDFLARE_D1_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxx
CLOUDFLARE_ACCOUNT_ID=xxxxxxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# AI/LLM設定
# ==============================================================================

# OpenAI API設定
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.7

# OpenAI組織ID (組織アカウント使用時)
OPENAI_ORGANIZATION_ID=org-xxxxxxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# ベクトル検索設定 (Pinecone)
# ==============================================================================

# Pinecone API設定
PINECONE_API_KEY=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
PINECONE_ENVIRONMENT=us-west1-gcp-free
PINECONE_INDEX_NAME=next-mastra-index

# ==============================================================================
# メール設定 (Brevo)
# ==============================================================================

# Brevo API設定
BREVO_API_KEY=xkeysib-xxxxxxxxxxxxxxxxxxxxxxxxx
BREVO_SENDER_EMAIL=noreply@example.com
BREVO_SENDER_NAME=Next Mastra App

# メールテンプレートID (Brevoダッシュボードで作成)
BREVO_WELCOME_TEMPLATE_ID=1
BREVO_ALERT_TEMPLATE_ID=2

# ==============================================================================
# 監視・ログ設定
# ==============================================================================

# Sentry エラー監視
NEXT_PUBLIC_SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxx@sentry.io/xxxxxxx
SENTRY_ORG=your-org
SENTRY_PROJECT=next-mastra
SENTRY_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxx

# ログレベル設定 (fatal, error, warn, info, debug, trace)
LOG_LEVEL=info

# OpenTelemetry設定
OTEL_SERVICE_NAME=next-mastra
OTEL_SERVICE_VERSION=1.0.0
OTEL_EXPORTER_OTLP_ENDPOINT=https://api.honeycomb.io
OTEL_EXPORTER_OTLP_HEADERS=x-honeycomb-team=xxxxxxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# Cloudflare 設定
# ==============================================================================

# Cloudflare API設定
CLOUDFLARE_API_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxx
CLOUDFLARE_ZONE_ID=xxxxxxxxxxxxxxxxxxxxxxxxx

# Cloudflare R2 (オブジェクトストレージ)
CLOUDFLARE_R2_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxxxxxxx
CLOUDFLARE_R2_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxx
CLOUDFLARE_R2_BUCKET_NAME=next-mastra-bucket
CLOUDFLARE_R2_ENDPOINT=https://xxxxxxxxx.r2.cloudflarestorage.com

# Cloudflare KV (キーバリューストア)
CLOUDFLARE_KV_NAMESPACE_ID=xxxxxxxxxxxxxxxxxxxxxxxxx

# Cloudflare Analytics
CLOUDFLARE_ANALYTICS_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# セキュリティ設定
# ==============================================================================

# JWT署名用シークレット (ランダムな文字列を生成)
JWT_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxx

# セッション暗号化キー (32文字のランダム文字列)
SESSION_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxx

# CSRF保護設定
CSRF_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxx

# API レート制限設定
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# ==============================================================================
# MCP (Model Context Protocol) サーバー設定
# ==============================================================================

# MCP Filesystemサーバー設定
MCP_FILESYSTEM_ROOT_PATH=./data
MCP_FILESYSTEM_MAX_FILE_SIZE=5242880
MCP_FILESYSTEM_ALLOWED_EXTENSIONS=.txt,.md,.json,.csv,.log

# MCP Fetchサーバー設定
MCP_FETCH_USER_AGENT=NextMastraBot/1.0
MCP_FETCH_TIMEOUT=10000
MCP_FETCH_MAX_SIZE=1048576

# MCP外部データベース設定 (Aiven PostgreSQL)
MCP_AIVEN_POSTGRES_URL=postgres://username:password@hostname:port/database
MCP_AIVEN_API_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxx

# MCP ClickHouseデータベース設定
MCP_CLICKHOUSE_URL=https://hostname:8443
MCP_CLICKHOUSE_USER=username
MCP_CLICKHOUSE_PASSWORD=password
MCP_CLICKHOUSE_DATABASE=default

# MCP AI Testing設定 (Debugg.AI)
MCP_DEBUGGING_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxx
MCP_DEBUGGING_PROJECT_ID=xxxxxxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# 開発・テスト設定
# ==============================================================================

# テスト環境設定
TEST_DATABASE_URL=file:./test.db
TEST_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxx
TEST_CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxx

# デバッグ設定
DEBUG=false
VERBOSE_LOGGING=false

# ==============================================================================
# パフォーマンス・キャッシュ設定
# ==============================================================================

# Redis設定 (キャッシュ用、オプション)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=xxxxxxxxxxxxxxxxxxxxxxxxx

# キャッシュ設定
CACHE_TTL=3600
CACHE_MAX_SIZE=100

# ==============================================================================
# 外部API設定
# ==============================================================================

# GitHub API (コード解析用、オプション)
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxx

# Slack Webhook (通知用、オプション)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxxxxxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# 設定例・注意事項
# ==============================================================================

# 1. 本番環境では必ずHTTPS URLを使用してください
# 2. APIキーは絶対に公開リポジトリにコミットしないでください
# 3. 開発環境と本番環境で異なる値を使用してください
# 4. 定期的にAPIキーをローテーションしてください
# 5. 環境変数の値にスペースや特殊文字が含まれる場合は引用符で囲んでください
